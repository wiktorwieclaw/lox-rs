(function(){"use strict";let s;const x=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&x.decode();let g=null;function y(){return(g===null||g.byteLength===0)&&(g=new Uint8Array(s.memory.buffer)),g}function A(e,t){return e=e>>>0,x.decode(y().subarray(e,e+t))}const f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);let l=f.length;function O(e){l===f.length&&f.push(f.length+1);const t=l;return l=f[t],f[t]=e,t}function d(e){return f[e]}function M(e){e<132||(f[e]=l,l=e)}function I(e){const t=d(e);return M(e),t}function j(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const r=e.description;return r==null?"Symbol":`Symbol(${r})`}if(t=="function"){const r=e.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(e)){const r=e.length;let a="[";r>0&&(a+=j(e[0]));for(let o=1;o<r;o++)a+=", "+j(e[o]);return a+="]",a}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let i;if(n.length>1)i=n[1];else return toString.call(e);if(i=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:i}let p=0;const h=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},R=typeof h.encodeInto=="function"?function(e,t){return h.encodeInto(e,t)}:function(e,t){const n=h.encode(e);return t.set(n),{read:e.length,written:n.length}};function E(e,t,n){if(n===void 0){const c=h.encode(e),u=t(c.length,1)>>>0;return y().subarray(u,u+c.length).set(c),p=c.length,u}let i=e.length,r=t(i,1)>>>0;const a=y();let o=0;for(;o<i;o++){const c=e.charCodeAt(o);if(c>127)break;a[r+o]=c}if(o!==i){o!==0&&(e=e.slice(o)),r=n(r,i,i=o+e.length*3,1)>>>0;const c=y().subarray(r+o,r+i),u=R(e,c);o+=u.written,r=n(r,i,o,1)>>>0}return p=o,r}let _=null;function b(){return(_===null||_.buffer.detached===!0||_.buffer.detached===void 0&&_.buffer!==s.memory.buffer)&&(_=new DataView(s.memory.buffer)),_}let m=128;function W(e){if(m==1)throw new Error("out of js stack");return f[--m]=e,m}function k(e,t){try{return e.apply(this,t)}catch(n){s.__wbindgen_exn_store(O(n))}}const S=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>s.__wbg_interpreter_free(e>>>0,1));class D{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,S.unregister(this),t}free(){const t=this.__destroy_into_raw();s.__wbg_interpreter_free(t,0)}constructor(){const t=s.interpreter_new();return this.__wbg_ptr=t>>>0,S.register(this,this.__wbg_ptr,this),this}interpret(t,n){try{const i=E(t,s.__wbindgen_malloc,s.__wbindgen_realloc),r=p;s.interpreter_interpret(this.__wbg_ptr,i,r,W(n))}finally{f[m++]=void 0}}out(){let t,n;try{const w=s.__wbindgen_add_to_stack_pointer(-16);s.interpreter_out(w,this.__wbg_ptr);var i=b().getInt32(w+4*0,!0),r=b().getInt32(w+4*1,!0),a=b().getInt32(w+4*2,!0),o=b().getInt32(w+4*3,!0),c=i,u=r;if(o)throw c=0,u=0,I(a);return t=c,n=u,A(c,u)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(t,n,1)}}clear(){s.interpreter_clear(this.__wbg_ptr)}}async function F(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function $(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,n){const i=A(t,n);return O(i)},e.wbg.__wbindgen_object_drop_ref=function(t){I(t)},e.wbg.__wbg_call_89af060b4e1523f2=function(){return k(function(t,n,i){const r=d(t).call(d(n),d(i));return O(r)},arguments)},e.wbg.__wbindgen_debug_string=function(t,n){const i=j(d(n)),r=E(i,s.__wbindgen_malloc,s.__wbindgen_realloc),a=p;b().setInt32(t+4*1,a,!0),b().setInt32(t+4*0,r,!0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(A(t,n))},e}function U(e,t){return s=e.exports,T.__wbindgen_wasm_module=t,_=null,g=null,s}async function T(e){if(s!==void 0)return s;typeof e<"u"&&Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),typeof e>"u"&&(e=new URL("/unlox/assets/unlox_wasm_bg-yam3-2HI.wasm",self.location.href));const t=$();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:i}=await F(await e,t);return U(n,i)}self.onmessage=async e=>{await T(),new D().interpret(e.data,n=>{postMessage({type:"output",output:n})}),postMessage({type:"end"})}})();
