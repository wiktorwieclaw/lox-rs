(function(){"use strict";let r;const m=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&m.decode();let _=null;function b(){return(_===null||_.byteLength===0)&&(_=new Uint8Array(r.memory.buffer)),_}function y(e,t){return e=e>>>0,m.decode(b().subarray(e,e+t))}const c=new Array(128).fill(void 0);c.push(void 0,null,!0,!1);let w=c.length;function T(e){w===c.length&&c.push(c.length+1);const t=w;return w=c[t],c[t]=e,t}let p=0;const l=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},v=typeof l.encodeInto=="function"?function(e,t){return l.encodeInto(e,t)}:function(e,t){const n=l.encode(e);return t.set(n),{read:e.length,written:n.length}};function I(e,t,n){if(n===void 0){const o=l.encode(e),f=t(o.length,1)>>>0;return b().subarray(f,f+o.length).set(o),p=o.length,f}let i=e.length,a=t(i,1)>>>0;const h=b();let s=0;for(;s<i;s++){const o=e.charCodeAt(s);if(o>127)break;h[a+s]=o}if(s!==i){s!==0&&(e=e.slice(s)),a=n(a,i,i=s+e.length*3,1)>>>0;const o=b().subarray(a+s,a+i),f=v(e,o);s+=f.written,a=n(a,i,s,1)>>>0}return p=s,a}let u=null;function g(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==r.memory.buffer)&&(u=new DataView(r.memory.buffer)),u}function D(e){return c[e]}function E(e){e<132||(c[e]=w,w=e)}function O(e){const t=D(e);return E(e),t}const A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_interpreter_free(e>>>0,1));class R{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_interpreter_free(t,0)}constructor(){const t=r.interpreter_new();return this.__wbg_ptr=t>>>0,A.register(this,this.__wbg_ptr,this),this}interpret(t){const n=I(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=p;r.interpreter_interpret(this.__wbg_ptr,n,i)}out(){let t,n;try{const d=r.__wbindgen_add_to_stack_pointer(-16);r.interpreter_out(d,this.__wbg_ptr);var i=g().getInt32(d+4*0,!0),a=g().getInt32(d+4*1,!0),h=g().getInt32(d+4*2,!0),s=g().getInt32(d+4*3,!0),o=i,f=a;if(s)throw o=0,f=0,O(h);return t=o,n=f,y(o,f)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n,1)}}clear(){r.interpreter_clear(this.__wbg_ptr)}}async function W(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function M(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,n){const i=y(t,n);return T(i)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(y(t,n))},e}function j(e,t){return r=e.exports,x.__wbindgen_wasm_module=t,u=null,_=null,r}async function x(e){if(r!==void 0)return r;typeof e<"u"&&Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead"),typeof e>"u"&&(e=new URL("/unlox/assets/unlox_wasm_bg-DDIZH-zu.wasm",self.location.href));const t=M();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:i}=await W(await e,t);return j(n,i)}self.onmessage=async e=>{await x();const t=new R;t.interpret(e.data),postMessage(t.out())}})();
